{"ast":[{"blockAttributes":[],"blockChunks":[{"contents":["html","<div class=\"help-box\">\n<h1>Everything happens on your browser</h1>\n<p>PostgREST not only exposes data over REST entities, it also provides an OpenAPI description.</p>\n<p>Postgrest-table lets your browser load the OpenAPI description of a PostgREST service. Plus, this page let your browser understands further the selector syntax that PostgREST expects.</p>\n<p>All interactions between this page and your PosgtREST instances are done via your browser. Hence, this service does not intercept any data.</p>\n</div>\n"],"tag":"RawBlock"},{"contents":["html","<div class=\"help-box\">\n<h1>Three families of columns</h1>\n<ol>\n<li> <p>PostgREST exposes <em>main</em>entities from PostgreSQL tables and views.</p> </li>\n<li> <p>PostgREST provides some support for <em>embedding</em> via auto-detected foreign-keys.</p> </li>\n<li> <p>Finally, Postgrest-Table (this page) allows you to <em>compute</em> extra columns directly on your browser with a limited expression language.</p></li>\n</ol>\n<p>Each family of column comes with its own set of limitations:</p>\n<p>Only <em>main</em> and <em>embedded</em> data are part of CSV exports as PostgREST is in charge of formatting the CSV.</p>\n<p><em>Computed</em> data can only reference <em>main</em> columns or previously-defined <em>computed</em> columns (a naive way to avoid circular definitions).</p>\n</div>\n"],"tag":"RawBlock"},{"contents":["html","<div class=\"help-box\">\n<h1>Computed columns</h1>\n<p>We provide a limited language. Heavier queries should be turned into SQL views and exposed via PostgREST.</p>\n<h4>Primitives</h4>\n<pre class=\"code\">\"hello\"</pre>\n<pre class=\"code\">42.0</pre>\n<pre class=\"code\">[\"a\", \"b\", \"c\"]</pre>\n<pre class=\"code\">{\"name\":\"just\", \"lastname\":\"leblanc\"}</pre>\n<h4>References</h4>\n<pre class=\"code\">$row-number</pre>\n<pre class=\"code\">$field:\"firstname\"</pre>\n<pre class=\"code\">$computed-field:\"fullname\"</pre>\n<h4>Json Extraction</h4>\n<pre class=\"code\">object-lookup($field:\"some-json-object\", \"key\", \"default-value\")</pre>\n<pre class=\"code\">array-lookup($field:\"some-json-array\", 0, \"default-value\")</pre>\n<h4>Strings and html-generation</h4>\n<pre class=\"code\">concat($field:\"firstname\", \" \", $field:\"lastname\")</pre>\n<pre class=\"code\">concat(\"hello \", $computed-field:\"fullname\")</pre>\n<pre class=\"code\">stringify(1.42)</pre>\n<pre class=\"code\">stringify(true)</pre>\n<pre class=\"code\">image(concat(\"https://somesite/\", $field:\"icon\", \".png\")</pre>\n<pre class=\"code\">link(concat(\"https://somesite/\", $field:\"uuid\", \"/\", stringify(round($field:\"id\")))</pre>\n<pre class=\"code\">progressbar(42.0)</pre>\n<pre class=\"code\">colordot($computed-field:\"some_css_color\")</pre>\n<h4>Computation</h4>\n<pre class=\"code\">negate(1.2)</pre>\n<pre class=\"code\">inverse(100.0)</pre>\n<pre class=\"code\">product(1.2, 3.0, $field:\"factor\")</pre>\n<pre class=\"code\">sum(1.2, product(1.2, 3.0))</pre>\n<pre class=\"code\">round(1.2)</pre>\n<pre class=\"code\">ceiling(1.2)</pre>\n<h4>Logic and branching</h4>\n<pre class=\"code\">conj(true, true)</pre>\n<pre class=\"code\">disj(false, true)</pre>\n<pre class=\"code\">predicate(:eq, 1.0, 1.3)</pre>\n<pre class=\"code\">predicate(:gte, 1.0, 1.3)</pre>\n<pre class=\"code\">predicate(:gt, 1.0, 1.3)</pre>\n<pre class=\"code\">predicate(:lt, 1.0, 1.3)</pre>\n<pre class=\"code\">predicate(:lte, 1.0, 1.3)</pre>\n<pre class=\"code\">branch(\"some-fallback\", predicate(:eq, $field:\"xyz\", 1.3), \"xyz-is-1.3\")</pre>\n</div>\n"],"tag":"RawBlock"},{"contents":["html","<div class=\"help-box\">\n<h1>Charts</h1>\n<p>We leverage Vega-Lite to generate charts. Features implementation and the styling are still rough.</p>\n<p>A chart can display computed columns, however if you end-up doing that often you should consider working on your SQL views.</p>\n</div>\n"],"tag":"RawBlock"},{"contents":["html","<div class=\"help-box\">\n<h1>Bookmarklets</h1>\n<p>This page will auto-load a PostgREST spec if provided a <span class=\"code\">?postgrest=$url</span> query param in the URL.</p>\n<p>As a result, you can create a smart-booklet to load <em>Postgrest-Table</em> in your browser by bookmarking the following code:\n<pre class=\"code\">javascript:location.href='https://postgrest-table.netlify.app?postgrest='+document.location.href;</pre>\n</p>\n</div>\n"],"tag":"RawBlock"},{"contents":["html","<div class=\"help-box\">\n<h1>Troubleshooting</h1>\n<p>Netlify, which hosts this page, enables HTTPS. Hence, if you point to a plain HTTP PostgREST instance, your browser will detect an insecure connection attempt from. You can bypass this limitation by deactivating mixed-content blocking (often clicking a shield/lock icon after a failed connection attempt). Of course, it is better to secure your PostgREST endpoints.</p>\n"],"tag":"RawBlock"},{"contents":["html","</div>\n"],"tag":"RawBlock"},{"contents":["html","<div class=\"help-box\">\n<h1>Roadmap</h1>\n<p>Albeit best effort, you can poke around and observe when we provide the following:</p>\n<ul>\n<li>more primitives for computed computations</li>\n<li>more charting-interactions</li>\n<li>more FKs-interactions</li>\n<li>more and polished filters for more types (dates, jsonb, arrays, fts)</li>\n</ul>\n"],"tag":"RawBlock"},{"contents":["html","</div>\n"],"tag":"RawBlock"},{"contents":["html","<div class=\"help-box\">\n<h1>Credits</h1>\n<p>Made with passion thanks to:</p>\n<ul class=\"dependencies\">\n<li><a href=\"https://postgrest.org/\">PostgREST</a></li>\n<li><a href=\"https://www.purescript.org/\">PureScript</a></li>\n<li><a href=\"kk\">Halogen</a></li>\n<li><a href=\"https://vega.github.io/\">Vega</a></li>\n</ul>\n"],"tag":"RawBlock"}],"blockExtra":[]},{"blockAttributes":[],"blockChunks":[{"contents":["html","<script src=\"https://cdn.jsdelivr.net/npm/vega@5.19.1\"></script>\n"],"tag":"RawBlock"},{"contents":["html","<script src=\"https://cdn.jsdelivr.net/npm/vega-lite@5.0.0\"></script>\n"],"tag":"RawBlock"},{"contents":["html","<script src=\"https://cdn.jsdelivr.net/npm/vega-embed@6.15.1\"></script>\n"],"tag":"RawBlock"},{"contents":["html","<script src=\"/js/postgrest-table.js\"></script>\n"],"tag":"RawBlock"}],"blockExtra":[]}],"hashtagInfos":[],"imageInfos":[],"linkInfos":[],"skyline":{"skylineItems":[{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"},{"contents":[0,[0]],"tag":"TextualMark"}]},"snippetInfos":[]}